<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>POKA POKA - 포토카드 제작</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#00d4ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
    <div class="app-container">
        <!-- 헤더 -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">POKA POKA</h1>
                <p class="subtitle">포토카드 제작 서비스</p>
            </div>
        </header>

        <!-- 메인 컨텐츠 -->
        <main class="main-content">
            <!-- 환영 메시지 -->
            <section class="welcome-section">
                <div class="welcome-card">
                    <div class="welcome-icon" onclick="cardClickEffect(this)">
                        <div class="card-3d-container">
                            <!-- 카드 앞면 (뒤로 띄움) -->
                            <div class="card-front">
                                <img src="images/icons/welcome-icon.jpg" alt="환영 아이콘 앞면" onerror="this.style.display='none';">
                            </div>
                            
                            <!-- 카드 뒷면 (앞으로 띄움) -->
                            <div class="card-back">
                                <img src="images/icons/welcome-icon-back.jpg" alt="환영 아이콘 뒷면" onerror="this.style.display='none';">
                            </div>
                            
                            <!-- 카드 측면들 (두께감 표현) -->
                            <div class="card-side card-side-top"></div>
                            <div class="card-side card-side-bottom"></div>
                            <div class="card-side card-side-left"></div>
                            <div class="card-side card-side-right"></div>
                            
                            <!-- 카드 내부 측면들 (앞면과 뒷면 사이) -->
                            <div class="card-inner-side card-inner-top"></div>
                            <div class="card-inner-side card-inner-bottom"></div>
                            <div class="card-inner-side card-inner-left"></div>
                            <div class="card-inner-side card-inner-right"></div>
                        </div>
                    </div>
                    <h2>나만의 포토카드를 제작하세요</h2>
                    <p>스마트폰으로 편리하게 사진을 편집하고 키오스크에서 인화하세요</p>
                </div>
            </section>

            <!-- 빠른 시작 버튼 -->
            <section class="quick-start-section">
                <button class="quick-start-btn" onclick="createNewPhotoCardFromMain()">
                    <span class="btn-icon">
                        🎴
                    </span>
                    <span class="btn-text">포토카드 제작하기</span>
                </button>
            </section>

            <!-- 사용 방법 가이드 -->
            <section class="guide-section">
                <h3 class="section-title">📖 사용 방법</h3>
                <div class="guide-steps">
                    <div class="guide-step guide-step-1">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>📸 사진 업로드</h4>
                            <p>갤러리에서 사진을 선택하거나 카메라로 촬영하세요</p>
                        </div>
                    </div>
                    
                    <div class="guide-step guide-step-2">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>🎨 편집하기</h4>
                            <p>필터, 스티커, 텍스트 등으로 사진을 꾸며줍니다</p>
                        </div>
                    </div>
                    
                    <div class="guide-step guide-step-3">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>🖨️ 키오스크에서 인화</h4>
                            <p>편집 완료 후 키오스크에 표시된 QR코드를 촬영합니다</p>
                        </div>
                    </div>
                    
                    <div class="guide-step guide-step-4">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>💳 결제하고 인화하기</h4>
                            <p>키오스크에서 결제를 완료하면 포토카드가 인화됩니다</p>
                        </div>
                    </div>
                </div>
            </section>



        </main>

        <!-- 하단 네비게이션 -->
        <nav class="bottom-nav">
            <a href="index.html" class="nav-item active">
                <span class="nav-icon">
                    🏠
                </span>
                <span class="nav-text">홈</span>
            </a>
            <a href="gallery.html" class="nav-item">
                <span class="nav-icon">
                    🎴
                </span>
                <span class="nav-text">포토카드</span>
            </a>
            <a href="map.html" class="nav-item">
                <span class="nav-icon">
                    🗺️
                </span>
                <span class="nav-text">지도</span>
            </a>
            <a href="profile.html" class="nav-item">
                <span class="nav-icon">
                    👤
                </span>
                <span class="nav-text">프로필</span>
            </a>
        </nav>
    </div>

    <script src="js/common.js"></script>
    <script src="js/index.js"></script>
    <script>
        // 백업 함수 정의 (스크립트 로딩 문제 해결)
        if (typeof window.createNewPhotoCardFromMain === 'undefined') {
            window.createNewPhotoCardFromMain = function() {
                console.log('백업 함수: 메인 페이지에서 새로운 포토카드 생성 모드로 진입');
                
                // 기존 포토카드 데이터 초기화
                try {
                    localStorage.removeItem('currentPhotoCard');
                    if (typeof POKA !== 'undefined' && POKA.AppState) {
                        POKA.AppState.removeFromStorage('currentPhotoCard');
                    }
                    console.log('기존 포토카드 데이터 초기화 완료');
                } catch (error) {
                    console.error('기존 포토카드 데이터 초기화 오류:', error);
                }
                
                // 편집 페이지로 이동
                window.location.href = 'edit.html';
            };
        }
        
        if (typeof window.cardClickEffect === 'undefined') {
            window.cardClickEffect = function(element) {
                element.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    element.style.transform = 'scale(1)';
                }, 150);
            };
        }
    </script>
</body>
</html> 