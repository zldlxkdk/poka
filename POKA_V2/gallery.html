<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>POKA V2 - 갤러리</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/gallery.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#00d4ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>
    <div class="app-container">
        <!-- 헤더 -->
        <header class="header">
            <div class="header-content">
                <h1 class="page-title">갤러리</h1>
                <div class="header-actions">
                    <button class="header-btn" onclick="toggleViewMode()" title="보기 모드 변경">
                        <span class="btn-icon">🔄</span>
                    </button>
                    <button class="header-btn" onclick="showSortOptions()" title="정렬 옵션">
                        <span class="btn-icon">⚙️</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- 메인 컨텐츠 -->
        <main class="main-content">
            <!-- 필터 및 검색 -->
            <section class="filter-section">
                <div class="search-container">
                    <input type="text" id="searchInput" class="search-input" placeholder="이미지 검색...">
                    <button class="search-btn" onclick="performSearch()">
                        <span class="btn-icon">🔍</span>
                    </button>
                </div>
                
                <div class="filter-tags" id="filterTags">
                    <span class="filter-tag active" data-filter="all">전체</span>
                    <span class="filter-tag" data-filter="recent">최근</span>
                    <span class="filter-tag" data-filter="favorite">즐겨찾기</span>
                    <span class="filter-tag" data-filter="edited">편집됨</span>
                </div>
            </section>

            <!-- 갤러리 그리드 -->
            <section class="gallery-section">
                <div class="gallery-header">
                    <h3 class="section-title">내 포토카드</h3>
                    <div class="gallery-stats">
                        <span id="imageCount">0</span>개의 이미지
                    </div>
                </div>
                
                <div class="gallery-container" id="galleryContainer">
                    <!-- 이미지들이 여기에 동적으로 추가됩니다 -->
                </div>
                
                <!-- 빈 상태 -->
                <div class="empty-state" id="emptyState" style="display: none;">
                    <div class="empty-icon">📷</div>
                    <h3>아직 포토카드가 없습니다</h3>
                    <p>첫 번째 포토카드를 만들어보세요!</p>
                    <button class="btn btn-primary" onclick="POKA.Navigation.navigateTo('upload.html')">
                        <span class="btn-icon">📤</span>
                        사진 업로드하기
                    </button>
                </div>
            </section>

            <!-- 로딩 상태 -->
            <div class="loading-state" id="loadingState" style="display: none;">
                <div class="loading-spinner"></div>
                <p>이미지를 불러오는 중...</p>
            </div>
        </main>

        <!-- 네비게이션 바 -->
        <nav class="bottom-nav">
            <a href="index.html" class="nav-item">
                <span class="nav-icon">🏠</span>
                <span class="nav-text">홈</span>
            </a>
            <a href="upload.html" class="nav-item">
                <span class="nav-icon">📷</span>
                <span class="nav-text">업로드</span>
            </a>
            <a href="gallery.html" class="nav-item active">
                <span class="nav-icon">🖼️</span>
                <span class="nav-text">갤러리</span>
            </a>
            <a href="profile.html" class="nav-item">
                <span class="nav-icon">👤</span>
                <span class="nav-text">프로필</span>
            </a>
        </nav>
    </div>

    <!-- 이미지 상세 모달 -->
    <div class="image-modal" id="imageModal" style="display: none;">
        <div class="modal-overlay" onclick="closeImageModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" onclick="closeImageModal()">×</button>
            </div>
            <div class="modal-body">
                <img id="modalImage" src="" alt="">
                <div class="image-fallback modal-fallback" id="modalImageFallback">
                    📷
                </div>
                <div class="image-info">
                    <h3 id="modalTitle"></h3>
                    <p id="modalDate"></p>
                    <p id="modalSize"></p>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="editCurrentImage()">
                    <span class="btn-icon">✏️</span>
                    편집
                </button>
                <button class="btn btn-primary" onclick="downloadImage()">
                    <span class="btn-icon">⬇️</span>
                    다운로드
                </button>
                <button class="btn btn-secondary" onclick="shareImage()">
                    <span class="btn-icon">📤</span>
                    공유
                </button>
                <button class="btn btn-secondary" onclick="toggleFavorite()">
                    <span class="btn-icon" id="favoriteIcon">⭐</span>
                    <span id="favoriteText">즐겨찾기</span>
                </button>
                <button class="btn btn-secondary" onclick="deleteCurrentImage()">
                    <span class="btn-icon">🗑️</span>
                    삭제
                </button>
            </div>
        </div>
    </div>

    <script src="js/common.js"></script>
    <script src="js/gallery.js"></script>
</body>
</html> 